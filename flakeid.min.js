/*
    FlakeId v 0.1.0
    Author: Sudhanshu Yadav
    Copyright (c) 2015 Sudhanshu Yadav - ignitersworld.com , released under the MIT license.
*/

!function(){function t(t,r,n){for(var i=[],e=Math.max(t.length,r.length),s=0,o=0;e>o||s;){var f=o<t.length?t[o]:0,u=o<r.length?r[o]:0,h=s+f+u;i.push(h%n),s=Math.floor(h/n),o++}return i}function r(r,n,i){if(0>r)return null;if(0==r)return[];for(var e=[],s=n;;){if(1&r&&(e=t(e,s,i)),r>>=1,0===r)break;s=t(s,s,i)}return e}function n(t,r){for(var n=t.split(""),i=[],e=n.length-1;e>=0;e--){var s=parseInt(n[e],r);if(isNaN(s))return null;i.push(s)}return i}function i(i,e,s){var o=n(i,e);if(null===o)return null;for(var f=[],u=[1],h=0;h<o.length;h++)o[h]&&(f=t(f,r(o[h],u,s),s)),u=r(e,u,s);for(var a="",h=f.length-1;h>=0;h--)a+=f[h].toString(s);return a}function e(t){return"0x"===t.substring(0,2)&&(t=t.substring(2)),t=t.toLowerCase(),i(t,16,10)}function s(t){t=t||{},this.seq=0,this.mid=(t.mid||1)%1023,this.timeOffset=t.timeOffset||0,this.lastTime=0}s.prototype={constructor:s,gen:function(){var t=Date.now(),r=(t-this.timeOffset).toString(2);if(this.lastTime==t){if(this.seq++,this.seq>4095)for(this.seq=0;Date.now()<=t;);}else this.seq=0;this.lastTime=t;for(var n=this.seq.toString(2),i=this.mid.toString(2);n.length<12;)n="0"+n;for(;i.length<10;)i="0"+i;for(var s=r+i+n,o="",f=s.length;f>=0;f-=4)o=parseInt(s.substring(f-4,f),2).toString(16)+o;return e(o)}},window.FlakeId=s}();